<!DOCTYPE html>
<html lang = "en">
<head>
   <title> Single Page Application </title>
   <link rel = "stylesheet" href = "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
   <link rel = "stylesheet" href = "style.css">
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
   <script src = "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
   
   <script src = "app.js" type = 'text/javascript'></script>
   <script src = "jQuery.js" type = 'text/javascript'></script>
</head>
<body>
   <nav class="navbar navbar-inverse">
		  <div class="container-fluid">
		    <!-- Brand and toggle get grouped for better mobile display -->
		    <div class="navbar-header">
		      
		      <a class="navbar-brand" href="#"> Tensorflow Backend App </a>
		    </div>

		    <!-- Collect the nav links, forms, and other content for toggling -->
		    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
		    </div><!-- /.navbar-collapse -->
		  </div><!-- /.container-fluid -->
   </nav>
    <div class = "col-md-5 selectContainer" id = "form">
       <form id = "myForm" method = "post">
		  <div class="form-group">
		    <label for="formGroupExampleInput"> Enter Text </label>
		    <input type="text" class="form-control" name = "sentiment_text" id="sentiment_text" placeholder="Example input">
		  </div>
		  <div class = "div-space"> 

          </div>
          <div class = "submit-button">
                    <button type="submit" id = "form_button" class="btn btn-primary"> Capture Sentiment </button>          
          </div>
             <h1 id = sentiment_holder>  </h1>
	</form>
  </div>
</body>
<script>
   $(document).ready(function() {
         $("#myForm").submit(function(event) {
               event.preventDefault();
               var text_sentiment = $('#sentiment_text').val();
               var info = {text: text_sentiment}
               $.ajax({
               	  method: 'post',
               	  url: '/query',
               	  data: JSON.stringify(info),
               	  contentType: 'application/json',
               	  success: function(data) {
               	  	 console.log(data.sentiment)
               	  	 $('#sentiment_holder').text(data.sentiment)
               	  	 $('#sentiment_text').val("")
               	  }
               })
               
         })
   })

</script>
</html>
